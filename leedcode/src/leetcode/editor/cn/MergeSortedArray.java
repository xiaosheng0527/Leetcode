package leetcode.editor.cn;

//ç»™ä½ ä¸¤ä¸ªæœ‰åºæ•´æ•°æ•°ç»„ nums1 å’Œ nums2ï¼Œè¯·ä½ å°† nums2 åˆå¹¶åˆ° nums1 ä¸­ï¼Œä½¿ nums1 æˆä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚ 
//
// åˆå§‹åŒ– nums1 å’Œ nums2 çš„å…ƒç´ æ•°é‡åˆ†åˆ«ä¸º m å’Œ n ã€‚ä½ å¯ä»¥å‡è®¾ nums1 çš„ç©ºé—´å¤§å°ç­‰äº m + nï¼Œè¿™æ ·å®ƒå°±æœ‰è¶³å¤Ÿçš„ç©ºé—´ä¿å­˜æ¥è‡ª nu
//ms2 çš„å…ƒç´ ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3
//è¾“å‡ºï¼š[1,2,2,3,5,6]
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums1 = [1], m = 1, nums2 = [], n = 0
//è¾“å‡ºï¼š[1]
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// nums1.length == m + n 
// nums2.length == n 
// 0 <= m, n <= 200 
// 1 <= m + n <= 200 
// -109 <= nums1[i], nums2[i] <= 109 
// 
// Related Topics æ•°ç»„ åŒæŒ‡é’ˆ æ’åº 
// ğŸ‘ 1044 ğŸ‘ 0

import java.util.Arrays;

public class MergeSortedArray{
    public static void main(String[] args) {
        Solution solution = new MergeSortedArray().new Solution();
        
    }

//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    /**
     *
     * @param nums1    ç›®æ ‡æ•°ç»„
     * @param m         ç›®æ ‡æ•°ç»„çš„å…ƒç´ é•¿åº¦ï¼Œç´¢å¼•èŒƒå›´  [0,m - 1]
     * @param nums2     æºæ•°ç»„
     * @param n         æºæ•°ç»„çš„å…ƒç´ é•¿åº¦
     */
    // æ ¹æ®ä¸Šé¢çš„éƒ¨åˆ†å‚æ•°ï¼Œå¥½åƒå’Œarraycopy()æ–¹æ³•å¾ˆåƒ
    public void merge(int[] nums1, int m, int[] nums2, int n) {
        /* æ–¹æ³•1ï¼šç›´æ¥åˆ©ç”¨javaè‡ªå¸¦çš„åº“ï¼Œç›´æ¥æ±‚å¾—
        // å‚æ•°1  nums2ï¼šæºæ•°ç»„
        // å‚æ•°2  0ï¼šæºæ•°ç»„ä¸­è¦æ‹·è´çš„èµ·å§‹ç´¢å¼•(ä½ç½®)
        // å‚æ•°3  nums1ï¼šç›®æ ‡æ•°ç»„
        // å‚æ•°4  mï¼šæ‹·è´åˆ°ç›®æ ‡æ•°ç»„çš„èµ·å§‹ç´¢å¼•(ä½ç½®)
        // å‚æ•°5  nï¼šè¦æ‹·è´çš„å…ƒç´ ä¸ªæ•°(é•¿åº¦)
        System.arraycopy(nums2,0,nums1,m, n);
        Arrays.sort(nums1);*/

        /*// æ–¹æ³•2ï¼šåˆ©ç”¨åŒæŒ‡é’ˆï¼Œä½†éœ€è¦é¢å¤–å¼€è¾Ÿä¸€ä¸ªnums1çš„æ‹·è´
        int[] nums1_copy = new int[m] ;
        System.arraycopy(nums1, 0, nums1_copy, 0, m);

        int p1 = 0 ;    // è®¾ç½®æŒ‡é’ˆp1ï¼ŒæŒ‡å‘nums1_copyå¼€å¤´
        int p2 = 0 ;    // è®¾ç½®æŒ‡é’ˆp2ï¼ŒæŒ‡å‘nums2å¼€å¤´
        int p = 0 ;     // è®¾ç½®æŒ‡é’ˆpï¼ŒæŒ‡å‘nums1å¼€å¤´

        while((p1 < m) && (p2 < n)){
            if(nums1_copy[p1] < nums2[p2]){
                nums1[p++] = nums1_copy[p1++] ;
            }else{
                nums1[p++] = nums2[p2++] ;
            }
        }
        // å½“nums1_copyè¿˜æœ‰å‰©ä½™çš„å…ƒç´ 
        if(p1 < m){
            // æ³¨æ„ï¼šè¿™é‡Œä¸è€ƒè™‘ç´¢å¼•å€¼çš„ç›¸å‡ï¼Œç›´æ¥æ˜¯å¤šå°‘å…ƒç´ ï¼Œå°±å¯¹åº”ç›¸å‡
            // å½“p2 == n æ—¶ï¼Œæ­¤æ—¶çš„nå°±ä»£è¡¨nums2çš„æ‰€æœ‰å…ƒç´ ï¼Œ
            // è€Œæ­¤æ—¶çš„p1å°±ä»£è¡¨nums1_copyä¸­å·²æ‹·è´å…ƒç´ ä¸ªæ•°ã€è¦æ³¨æ„ï¼šæœ€åæ‰§è¡Œå®Œä¹‹åå®ƒä»¬éƒ½ä¼šè¿›è¡Œ +1 ã€‘
            // å¦‚æœè¦ç”¨ç´¢å¼•å€¼çš„å·®æ¥è®¡ç®—é•¿åº¦çš„è¯ï¼Œå¯ä»¥æ”¹ä¸º (m - 1) + (n - 1) - (p1 - 1) - (p2 - 1) == m + n - p1 - p2
            System.arraycopy(nums1_copy,p1,nums1, p, m + n - p1 - p2);
        }
        // å½“nums2è¿˜æœ‰å‰©ä½™çš„å…ƒç´ 
        if(p2 < n){
            System.arraycopy(nums2, p2, nums1, p, m + n - p1 - p2);
        }*/

        // æ–¹æ³•3ï¼šåŒæŒ‡é’ˆ/ ä»åå¾€å‰
        int p1 = m - 1 ;    // è®¾ç½®æŒ‡é’ˆp1 æŒ‡å‘ nums1[m - 1]
        int p2 = n - 1 ;    // è®¾ç½®æŒ‡é’ˆp2 æŒ‡å‘ nums1[n - 1]
        int p = m + n - 1 ; // è®¾ç½®æŒ‡é’ˆp æŒ‡å‘ nums1[m + n - 1]

        while((p1 >= 0) && (p2 >= 0)){
            if(nums1[p1] < nums2[p2]){
                nums1[p--] = nums2[p2--];
            }else{
                nums1[p--] = nums1[p1--];
            }
        }

        // è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š
        // å¦‚æœæ­¤æ—¶nums2å·±ç»å…¨éƒ¨æ’åºåˆ°nums1ä¸­çš„åé¢çš„ä½ç½®ä¸­ã€å³p2 = -1ã€‘ï¼Œ
        // è€Œä¸”æ­¤æ—¶åŸæ¥çš„p1æŒ‡å‘çš„ä½ç½®çš„å‰é¢æ‰€æœ‰å…ƒç´ éƒ½æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥ä¸éœ€è¦æ’åˆ—
        if(p1 >= 0){
            return ;
        }
        if(p2 >= 0){
            // ä¸‹é¢æ˜¯è¯´nums2è¿˜æ²¡æœ‰éå†å®Œï¼Œæ•…ç›´æ¥å°†nums2å‰é¢å‰©ä½™çš„æœ‰åºå…ƒç´ æ‹·è´åˆ°å‰é¢çš„ä½ç½®
            // æ³¨æ„ï¼šå½“å‰é¢whileå¾ªç¯ä¸­ï¼Œp2æŒ‡å‘çš„å…ƒç´ æ·»åŠ åˆ°nums1ä¸­åï¼Œp2--ï¼Œåˆšå¥½æ­¤æ—¶p2å¯¹åº”çš„æ˜¯ç´¢å¼•
            // æ‰€ä»¥ï¼Œæ­¤æ—¶nums2æ•°ç»„ä¸­è¿˜å‰©ä¸‹ ç´¢å¼•èŒƒå›´ [0,p2] ,å³æœ‰ p2 + 1 ä¸ªå…ƒç´ 
            System.arraycopy(nums2, 0, nums1, 0, p2 + 1);
        }
    }
}
//leetcode submit region end(Prohibit modification and deletion)

}

